/* =========================================
   Base / Reset léger
========================================= */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background: #0b0f14;
  color: #e8eef5;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

/* =========================================
   Palette / Theme vars
========================================= */
:root{
  --bg:   #0b0f14;
  --bg2:  #0e141c;
  --bg3:  #111823;
  --panel:#0f1722;
  --border:#1f2a37;

  --txt:#e8eef5;
  --muted:#9fb2c7;

  --accent:#2a71ff;
  --accent-2:#1f57c8;
  --accent-3:#17429a;

  --green:#2aa153;
  --red:#d64545;
  --yellow:#f2b827;

  --chip-bg:#142033;

  --shadow-1: 0 8px 24px rgba(0,0,0,.35);
  --inset-1: inset 0 0 0 1px rgba(255,255,255,.06);
}

/* =========================================
   Accessibilité
========================================= */
:focus, textarea:focus{
  border-color:#3e5a78;
  box-shadow:0 0 0 2px rgba(46,110,255,.15);
}

/* =========================================
   Badges / chips
========================================= */
.badge{
  display:inline-flex; align-items:center; gap:6px;
  height:24px; padding:0 10px;
  border-radius:999px; background:var(--chip-bg);
  border:1px solid #1f2b40; color:#cfe;
  font-size:12px; line-height:1; letter-spacing:.2px;
}

/* =========================================
   Cards / panneaux
========================================= */
.card{
  background:#0f1722; border:1px solid var(--border);
  border-radius:14px; box-shadow: var(--shadow-1);
}

/* =========================================
   Header
========================================= */
header{
  position: sticky; top: 0; z-index: 50;
  background: linear-gradient(180deg,#0c1118 0%, rgba(15,21,32,.95) 35%, #101826 100%);
  border-bottom:1px solid #0e2038;
  backdrop-filter: blur(6px);
}
.container{
  max-width: 1200px; margin-inline: auto;
  padding: 12px 16px;
  display:flex; align-items:center; justify-content:space-between; gap:12px;
}
.brand{ display:flex; align-items:center; gap:10px; }
.brand__logo{
  width:28px; height:28px; border-radius:6px;
  background: linear-gradient(135deg,#2a71ff,#1f57c8);
  box-shadow:0 6px 18px rgba(42,113,255,.25);
}
.brand__title{ font-weight:700; letter-spacing:.3px; }

/* =========================================
   Barre d’outils / actions
========================================= */
.toolbar{
  display:flex; flex-wrap:wrap; gap:10px;
  align-items:center; justify-content:flex-end;
}

/* =========================================
   Boutons
========================================= */
.btn-primary{
  appearance:none; border:none;
  background: linear-gradient(180deg, var(--accent), var(--accent-2));
  color:#fff; padding:10px 16px; border-radius:12px; cursor:pointer; font-weight:600;
  box-shadow: 0 4px 12px rgba(42,113,255,.25);
  transition: filter .08s ease, transform .06s ease, opacity .12s ease;
}
.btn-primary:hover{ filter: brightness(1.05); }
.btn-primary:active{ transform: translateY(1px); }
.btn-primary[disabled]{ opacity:.6; cursor:default; }
.btn-spinner{
  width:16px; height:16px; border-radius:50%;
  border:2px solid rgba(255,255,255,.4); border-top-color:#fff;
  display:none; vertical-align:middle; margin-left:8px;
}
.btn-primary.sending .btn-spinner{ display:inline-block; animation: spin .8s linear infinite; }
@keyframes spin{ to{ transform: rotate(360deg) } }

.btn-ghost{
  appearance:none; border:1px solid var(--border);
  background: var(--bg3); color: var(--txt);
  padding:6px 10px; border-radius:10px; cursor:pointer; font-size:12px; white-space:nowrap;
  transition: filter .08s ease, border-color .12s ease, transform .06s ease;
}
.btn-ghost:hover{ filter: brightness(1.06); border-color:#2a3b52; }
.btn-ghost:active{ transform: translateY(1px); }
.btn-ghost[disabled]{ opacity:.6; cursor:default; }

/* Variante locale (liste offs admin) */
.btn--primary{ background:#2a5bd7; border-color:#2a5bd7 }
.btn--ghost{ background:transparent; border-color:#555 }

/* =========================================
   Nav (catégories)
========================================= */
nav{
  display:flex; gap:8px; align-items:center; flex-wrap:wrap; padding: 10px 0;
}
nav button{
  padding:8px 12px; font-weight:600; color:#bcd;
  background:#0f1722; border:1px solid var(--border);
  background: var(--bg3);
  color: var(--txt);
  border-radius:12px;
  cursor:pointer;
  transition: transform .05s ease, filter .1s ease, background .15s ease, border-color .15s ease;
}
nav button:hover{ filter: brightness(1.05); }
nav button:active{ transform: translateY(1px); }
nav button.active{ background: #234567; border-color:#2f5577; color:#fff; }

/* =========================================
   Layout
========================================= */
main{ padding: 16px; }
.grid{
  display:grid; gap:14px;
  grid-template-columns: repeat(auto-fill, minmax(230px, 1fr));
}

/* =========================================
   Carte monstre
========================================= */
.monster{
  position:relative; background: #0f1722; border:1px solid var(--border);
  border-radius:14px; overflow:hidden; box-shadow: var(--shadow-1);
}
.monster__media{
  height: 160px; background:#0b1320; display:flex; align-items:center; justify-content:center;
  border-bottom:1px solid #0e2038;
}
.monster__media img{ width:100%; height:100%; object-fit:contain; }
.monster__body{ padding: 12px; }
.monster__name{ font-weight:700; letter-spacing:.3px; }
.monster__aliases{
  margin-top:6px; display:flex; flex-wrap:wrap; gap:6px;
}
.alias{
  padding:2px 8px; background:#0e1a2a; border:1px solid #15263d; border-radius:999px; color:#b7c8db; font-size:11px;
}

/* CTA dans la carte */
.monster__actions{
  display:flex; gap:8px; align-items:center; justify-content:space-between; padding: 10px 12px 12px;
}

/* =========================================
   Modal générique
========================================= */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.4);display:none;align-items:center;justify-content:center;z-index:999}
.modal[aria-hidden="false"]{display:flex}
.modal__dialog{
  background:#111;border:1px solid #333;border-radius:14px;
  max-width:780px;width:92%;box-shadow:0 10px 40px rgba(0,0,0,.5);
  max-height:90vh;            /* ⬅️ ne dépasse jamais l’écran */
  display:flex;               /* ⬅️ permet au body de prendre le reste */
  flex-direction:column;
}
.modal__header{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid #2a2a2a}
.modal__body{padding:16px; overflow:auto}   /* ⬅️ scroll interne, header/footer fixes */
.modal__footer{display:flex;gap:8px;justify-content:flex-end;padding:12px 16px;border-top:1px solid #2a2a2a}
.modal__title{font-weight:700}

/* =========================================
   Modal “Offs” (liste des offenses)
========================================= */
.offsList{
  display:grid;gap:8px;margin:10px 0 12px;
  grid-template-columns: 1fr 1fr;
}
.offsList__item{
  border:1px solid var(--border); border-radius:12px; background:#0f1722;
  padding:8px 10px; display:flex; align-items:center; justify-content:space-between; gap:8px;
}
.offsList__names{ display:flex; align-items:center; gap:6px; flex-wrap:wrap; }
.offsList__names .alias{ background:#0e1a2a; border-color:#15263d; color:#b7c8db; }
.offsList__actions{ display:flex; gap:6px; }

.admin-tools{
  display:flex; align-items:center; gap:8px; justify-content:space-between;
  padding: 10px; border:1px dashed #2b3a52; border-radius:12px; background:#0f1320;
}

/* =========================================
   Off picker (pour proposer une offense)
========================================= */
.picker{
  display:flex; flex-direction:column; gap:12px;
}
.picker .field{
  display:flex; align-items:center; gap:8px; flex-wrap:wrap;
  background:#0f1722; border:1px solid var(--border); border-radius:12px; padding:8px 10px;
}
.picker .field input{
  flex:1 1 auto;
  background:transparent; border:none; outline:none; color:#dfe9f6; font-size:14px;
}
.picker .grid{
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
}
.pick{
  display:flex; align-items:center; gap:8px;
  border:1px dashed #2a3b52; background:#0e1522; border-radius:10px; padding:8px; cursor:grab;
}
.pick.dragging{ opacity:.6; }
.pick img{ width:34px; height:34px; object-fit:contain; }
.pick__name{ font-weight:600; }

.picks{
  display:flex; align-items:center; gap:10px; flex-wrap:wrap; padding:6px 0;
}
.picks .slot{
  width:42px; height:42px; display:grid; place-items:center;
  border:1px dashed #2a3b52; background:#0e1522; border-radius:10px;
}
.picks .slot.filled{
  border-style:solid; border-color:#2a3b52; background:#102036;
}
.picks .slot img{ width:36px; height:36px; object-fit:contain; border-radius:8px; }

/* State message sous le champ */
.picker .hint{ color:#9fb2c7; font-size:12px; }

/* =========================================
   Formulaires / inputs
========================================= */
input[type="text"], .input{
  background:#0e1522; color:#e8eef5;
  border:1px solid #253349; border-radius:10px; padding:8px 10px;
  outline:none;
  transition: border-color .12s ease, box-shadow .12s ease, filter .12s ease;
}
input::placeholder{ color:#89a0b8; }

textarea{
  background:#0e1522; color:#e8eef5;
  border:1px solid #253349; border-radius:10px; padding:8px 10px;
  min-height:80px; resize:vertical;
}

/* =========================================
   Listes “stats” et “handled”
========================================= */
.list{
  display:grid; gap:10px;
}
.list__item{
  padding:10px 12px; border-radius:12px; background:#0f1722; border:1px solid var(--border);
  display:flex; align-items:center; justify-content:space-between; gap:8px;
}
.list__left{ display:flex; align-items:center; gap:10px; }
.list__name{ font-weight:700; }
.list__meta{ color:#9fb2c7; font-size:12px; }
.list__actions{ display:flex; gap:8px; }

/* =========================================
   Empty states
========================================= */
.empty{
  text-align:center; color:#9fb2c7; padding: 28px 10px;
}

/* =========================================
   Footer
========================================= */
footer{
  margin-top: 24px; padding: 24px 16px; border-top:1px solid #0e2038; color:#9fb2c7;
  text-align:center;
}

/* =========================================
   Images / helpers
========================================= */
img{ display:block; }
.hide{ display:none !important; }

/* =========================================
   Scrollbars (webkit)
========================================= */
*::-webkit-scrollbar{ width: 10px; height: 10px; }
*::-webkit-scrollbar-thumb{
  background:#253349; border:2px solid #0e1522; border-radius:999px;
}
*::-webkit-scrollbar-track{
  background:transparent; border-radius:999px;
}

/* =========================================
   Utilitaires
========================================= */
.row{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
.gap-6{ gap:6px; } .gap-8{ gap:8px; } .gap-10{ gap:10px; }
.mt-8{ margin-top:8px; } .mt-12{ margin-top:12px; } .mt-16{ margin-top:16px; }
.mx-auto{ margin-inline:auto; }

/* =========================================
   Grilles/off canvas plus courts (petits écrans)
========================================= */
@media (max-width: 720px){
  .grid{ grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); }
  .offsList{ grid-template-columns: 1fr; }
  .picker .grid{ grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); }
  .container{ padding: 10px; }
  main{ padding: 12px; }
  .picker .field input{ max-width: 540px; }
}
