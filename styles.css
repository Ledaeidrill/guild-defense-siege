/* Base */
body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;margin:0;background:#0b0f14;color:#e8eef5}
header{padding:14px 16px;border-bottom:1px solid #1f2a36;background:#0f1520;position:sticky;top:0;z-index:20}
h1{margin:0 0 8px 0;font-size:20px}
nav button{margin-right:8px;padding:8px 12px;border:1px solid #2b3b4a;background:#14202d;color:#e8eef5;border-radius:12px;cursor:pointer}
nav button.active{background:#234567}
main{padding:16px;max-width:min(var(--panel-width),95vw);margin:0 auto}
.row{margin:12px 0}
.hidden{display:none}
#toast{margin-top:8px;font-size:13px;min-height:34px;opacity:0;transition:.2s ease}
#toast.show{opacity:1}
.hint{opacity:.85;margin:8px 0 10px;font-size:16px;font-weight:500;text-align:center}

/* Variables */
:root{--panel-width:1700px;--border:#2b3b4a;--bg2:#0f1520;--bg3:#101826;--txt:#e8eef5;--accent:#2a71ff}

/* Input */
.field label{display:block;font-size:12px;opacity:.85;margin:0 0 6px 2px}
.field input{width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:var(--bg2);color:var(--txt);outline:none}
.field input:focus{border-color:#3e5a78;box-shadow:0 0 0 2px rgba(46,110,255,.15)}

/* Boutons */
.btn-primary{appearance:none;border:none;background:linear-gradient(180deg,#2a71ff,#1b55d6);color:#fff;padding:10px 16px;border-radius:12px;cursor:pointer;font-weight:600;box-shadow:0 4px 12px rgba(42,113,255,.25);transition:.05s ease}
.btn-primary:hover{filter:brightness(1.05)}.btn-primary:active{transform:translateY(1px)}
.btn-primary[disabled]{opacity:.6;cursor:default}

/* Défenses */
.def-row{display:flex;align-items:center;gap:10px;width:100%;max-width:920px;margin:0 auto}
.def-item{flex:1;display:flex;align-items:center;justify-content:space-between;gap:20px;border:1px solid #223244;background:#0f1520;border-radius:12px;padding:14px 16px;box-shadow:0 6px 18px rgba(0,0,0,.22)}
.def-trio{display:flex;gap:16px;align-items:center}
.def-pick{width:110px;padding:8px 6px 6px}
.def-pick img{width:60px;height:60px;border-radius:10px}
.def-pick .pname{font-size:12px;line-height:13px;margin-top:6px;max-width:100px}
.btn-ghost{border:1px solid #2b3b4a;background:#101826;color:#e8eef5;padding:6px 10px;border-radius:10px;cursor:pointer;font-size:12px}
.btn-ghost:hover{border-color:#3a4c60}

/* Modal */
.modal.hidden{display:none}.modal{position:fixed;inset:0;z-index:9999}.modal-backdrop{position:absolute;inset:0;background:rgba(0,0,0,.45)}
.modal-card{position:relative;margin:5vh auto;width:min(900px,calc(100% - 24px));background:#0f172a;color:#e2e8f0;border:1px solid #22314a;border-radius:12px;padding:12px}
.modal-header{display:flex;align-items:center;gap:12px}
.modal-back{border:none;background:transparent;color:#cbd5e1;font-size:20px;cursor:pointer}

/* Corps modale */
.modal-body{max-height:75vh;overflow:auto}
.offs-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(290px,1fr));gap:12px}
.off-row{display:flex;justify-content:center}
.off-trio{display:flex;gap:10px;align-items:center}
.offs-footer{display:flex;justify-content:center;margin-top:12px}

/* Chooser */
#offs-chooser{margin-top:12px}
.chooser-bar{display:flex;gap:10px;align-items:center;margin-bottom:10px}
#offs-search{flex:1;padding:8px;border-radius:8px;border:1px solid #334155;background:#0b1220;color:#e2e8f0}
.picks.center{justify-content:center}
#offs-picks{display:flex;flex-wrap:wrap;gap:10px;min-height:58px}
.pick{position:relative;display:flex;flex-direction:column;align-items:center;width:86px;padding:8px 6px 6px;border:1px solid #2d3c4b;border-radius:10px;background:#101826}
.pick img{width:60px;height:60px;border-radius:7px}
.pick .pname{font-size:11px;margin-top:4px;text-align:center;max-width:80px}
.pick .close{position:absolute;top:4px;right:4px;width:18px;height:18px;border:none;border-radius:50%;background:#0f1520;color:#cfd8e3;opacity:.6;cursor:pointer}
.pick .close:hover{opacity:.9}

/* Grille modale (scopée) */
#offs-grid.monster-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:10px}
#offs-modal .mon-card{border:1px solid #263349;border-radius:10px;padding:8px;background:#0b1220;cursor:pointer;text-align:center}
#offs-modal .mon-card img{width:72px;height:72px;border-radius:8px;border:1px solid #22314a}
#offs-modal .mon-card.selected{outline:2px solid #3b82f6}
